<div class="chat-section" (click)="closeContextMenu()">
  <div class="header">
    <div *ngIf="currentChat.name" class="header__current-chat">
      <p class="header__current-chat-name" (click)="rightbarListener.emit()">
        {{ currentChat.name }}
      </p>
      <div class="header__current-chat-props" (click)="showDropDown()">
        <svg width="23" height="5" viewBox="0 0 23 5" fill="none" xmlns="http://www.w3.org/2000/svg">
          <ellipse
            cx="2.55556"
            cy="2.5"
            rx="2.55556"
            ry="2.5"
            fill="white"
            fill-opacity="0.3"
            [ngClass]="{'active-fill': !hideDropDown}" />
          <ellipse
            cx="11.5"
            cy="2.5"
            rx="2.55556"
            ry="2.5"
            fill="white"
            fill-opacity="0.3"
            [ngClass]="{'active-fill': !hideDropDown}" />
          <ellipse
            cx="20.4445"
            cy="2.5"
            rx="2.55556"
            ry="2.5"
            fill="white"
            fill-opacity="0.3"
            [ngClass]="{'active-fill': !hideDropDown}" />
        </svg>
      </div>
    </div>
  </div>

  <div *ngIf="showPinnedMsg" class="pinned-msg fade-in-right">
    <!-- исправить ↓ -->
    <div>
      <p>Закреплённое сообщение</p>
      <p>Уже лучше чем телеграм!</p>
    </div>
    <span (click)="showPinnedMsg = false">&times;</span>
  </div>

  <div *ngIf="!isPrivate" class="current-chat-public">
    <div #scrollable class="messages-list">
      <div
        *ngFor="let item of messages"
        (contextmenu)="openContextMenu($event)"
        (click)="openContextMenu($event)"
        class="my-message">
        <div class="my-message__ico">
          <img src="{{ item.ico }}" alt="alt" />
        </div>
        <div>
          <div style="display: flex">
            <div class="my-message__name">{{ item.user }}</div>
            <!-- <div class="my-message__date">{{ item.date }}</div> -->
            <div class="my-message__time">{{ item.time }}</div>
          </div>
          <div class="my-message__text">{{ item.text }}</div>
        </div>
      </div>
    </div>

    <div hidden class="scroll-to-bottom">
      <svg width="42" height="42" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M9.42105 15.7368L21 26.2632L32.5789 15.7368M6 41H36C38.7614 41 41 38.7614 41 36V6C41 3.23858 38.7614 1 36 1H6C3.23858 1 1 3.23858 1 6V36C1 38.7614 3.23858 41 6 41Z"
          stroke="white"
          stroke-opacity="0.3"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
    </div>
  </div>

  <div class="messages-wrap">
    <div class="send-msg-img">
      <svg
        style="display: flex"
        width="23"
        height="21"
        viewBox="0 0 23 21"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        (input)="sendMessage($event)">
        <path
          d="M1 0.999999L22 10.5L0.999999 20L8 10.5L1 0.999999Z"
          fill="white"
          fill-opacity="0.1"
          stroke="white"
          stroke-opacity="0.3"
          stroke-linejoin="round" />
      </svg>
    </div>
    <textarea class="messages-wrap-input" (keyup.enter)="sendMessage($event)"></textarea>
  </div>

  <div
    *ngIf="!hideContextMenu"
    class="ez-context-menu"
    [ngStyle]="{
      top: contextMenuPosition?.y + 'px',
      left: contextMenuPosition?.x + 'px'
    }">
    <p class="ez-context-menu__item" (click)="showPinnedMsg = true">Закрепить</p>
    <p class="ez-context-menu__item">Ответить</p>
    <p class="ez-context-menu__item">Переслать</p>
    <p class="ez-context-menu__item">Выбрать</p>
    <p class="ez-context-menu__item">Изменить</p>
    <p class="ez-context-menu__item">Удалить</p>
  </div>

  <div *ngIf="!hideDropDown" class="ez-drop-down-menu">
    <p>Пункт</p>
    <p>Пункт</p>
    <p>Пункт</p>
  </div>
</div>
